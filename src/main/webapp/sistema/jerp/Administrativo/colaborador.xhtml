<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui">
    <ui:composition template="../template_jerp.xhtml">
        <ui:define name="head_template">
            <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/resources/assets/css/mfb.css" />
        </ui:define>
        <ui:define name="container_template">
            <h:form id="form">
                <p:growl />
                <ul id="menu" class="mfb-component--br mfb-slidein-spring" data-mfb-toggle="hover" >
                    <li class="mfb-component__wrap">
                        <a href="#" class="mfb-component__button--main black-bg" data-mfb-label="Novo Colaborador" data-toggle="modal" data-target="#modalCadastrar" >
                            <i class="mfb-component__main-icon--resting fa fa-plus" ></i>
                            <i class="mfb-component__main-icon--active fa fa-times" ></i>
                        </a>
                    </li>
                </ul>
                <div class="modal fade" id="modalCadastrar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fa fa-times" ></i></span></button>
                                <h4 class="modal-title" id="myModalLabel">Novo Colaborador</h4>
                            </div>
                            <div class="modal-body box">

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                <b:commandButton id="cadastrarColaborador" action="#{colaboradorMB.testeMB}" styleClass="btn btn-theme btn-ok" value="Cadastrar" ></b:commandButton>
                                <!--<a href="#" onclick="" id="cadastrarColaborador"  ></a>-->
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
            <section id="container_colaborador" class="wrapper site-min-height">
                <h3><i class="fa fa-angle-right"></i> Gerenciar Colaboradores</h3>
                <div class="row mt">
                    <div class="col-lg-12">
                        <p:dataTable id="dtColaboradores" var="profileColaborador" value="#{colaboradorMB.profiles}" rows="10"
                                     emptyMessage="Nenhum colaborador encontrado."
                                     reflow="true" paginator="true" sortMode="multiple"
                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="5,10,15,25,50">

                            <p:column width="5%" headerText="#" sortBy="#{profileColaborador.id}">
                                <h:outputText value="#{profileColaborador.id}" />
                            </p:column>

                            <p:column width="35%" headerText="Nome"  sortBy="#{profileColaborador.firstName}" filterBy="#{profileColaborador.firstName}" filterMatchMode="contains">
                                <h:outputText value="#{profileColaborador.firstName} #{profileColaborador.lastName}" />
                            </p:column>

                            <p:column width="15%" headerText="Login" filterBy="#{profileColaborador.user.login}" filterMatchMode="contains">
                                <h:outputText value="#{profileColaborador.user.login}" />
                            </p:column>

                            <p:column width="10%" headerText="Função"  sortBy="#{profileColaborador.function}" filterBy="#{profileColaborador.function}" filterMatchMode="contains">
                                <h:outputText value="#{profileColaborador.function}" />
                            </p:column>

                            <p:column width="25%" headerText="Email">
                                <h:outputText value="#{profileColaborador.email}" />
                            </p:column>

                            <p:column width="10%" headerText="Ações">
                                <a href="#" class="btn btn-xs btn-info"><li class="fa fa-search"></li></a>
                                <a href="#" class="btn btn-xs btn-danger"><li class="fa fa-trash-o"></li></a>
                            </p:column>
                        </p:dataTable>
                    </div>
                </div>
            </section><!--/wrapper -->
        </ui:define>

        <ui:define name="scripts_template">
            <!-- js placed at the end of the document so the pages load faster -->
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/jquery.js"></script>
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/jquery-1.8.3.min.js"></script>
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/bootstrap.min.js"></script>
            <script class="include" type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/jquery.dcjqaccordion.2.7.js"></script>
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/jquery.scrollTo.min.js"></script>
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/jquery.nicescroll.js" type="text/javascript"></script>
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/jquery.sparkline.js"></script>


            <!--common script for all pages-->
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/common-scripts.js"></script>

            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/gritter/js/jquery.gritter.js"></script>
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/gritter-conf.js"></script>

            <!--script for this page-->
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/sparkline-chart.js"></script>    
            <script src="#{facesContext.externalContext.requestContextPath}/resources/assets/js/zabuto_calendar.js"></script>	

            <script>

                var panel = document.getElementById('panel'),
                        menu = document.getElementById('menu'),
                        showcode = document.getElementById('showcode'),
                        selectFx = document.getElementById('selections-fx'),
                        selectPos = document.getElementById('selections-pos'),
                        // demo defaults
                        effect = 'mfb-zoomin',
                        pos = 'mfb-component--br';

                showcode.addEventListener('click', _toggleCode);
                selectFx.addEventListener('change', switchEffect);
                selectPos.addEventListener('change', switchPos);

                function _toggleCode() {
                    panel.classList.toggle('viewCode');
                }

                function switchEffect(e) {
                    effect = this.options[this.selectedIndex].value;
                    renderMenu();
                }

                function switchPos(e) {
                    pos = this.options[this.selectedIndex].value;
                    renderMenu();
                }

                function renderMenu() {
                    menu.style.display = 'none';
                    // ?:-)
                    setTimeout(function () {
                        menu.style.display = 'block';
                        menu.className = pos + effect;
                    }, 1);
                }

            </script>

        </ui:define>
    </ui:composition>
</html>